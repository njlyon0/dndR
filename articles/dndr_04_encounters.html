<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Encounter Balancing • dndR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Encounter Balancing">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dndR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.0.0.900</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/dndr_00_dice.html">Dice Rolling</a></li>
    <li><a class="dropdown-item" href="../articles/dndr_01_characters.html">Character Creation</a></li>
    <li><a class="dropdown-item" href="../articles/dndr_02_creatures.html">Finding &amp; Making Creatures</a></li>
    <li><a class="dropdown-item" href="../articles/dndr_03_spells.html">Spells</a></li>
    <li><a class="dropdown-item" href="../articles/dndr_04_encounters.html">Encounter Balancing</a></li>
    <li><a class="dropdown-item" href="../articles/dndr_05_visuals.html">Visual Tools</a></li>
    <li><a class="dropdown-item" href="../articles/dndr_99_dmg-vs-dndr.html">DMG versus dndR</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/njlyon0/dndR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Encounter Balancing</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/njlyon0/dndR/blob/main/vignettes/dndr_04_encounters.Rmd" class="external-link"><code>vignettes/dndr_04_encounters.Rmd</code></a></small>
      <div class="d-none name"><code>dndr_04_encounters.Rmd</code></div>
    </div>

    
    
<p>Creating balanced combat encounters can be surprisingly difficult,
especially for newer Dungeon/Game Masters (DMs / GMs). If using the 2014
version’s Dungeon Master’s Guide (DMG) you need to consult several
interrelated tables for each encounter. Even though the 2024 version of
fifth edition D&amp;D streamlined this process slightly it can still be
cumbersome to balance an encounter. To help other newbies,
<code>dndR</code> includes a handful of functions aimed at simplifying
the encounter balancing process.</p>
<div class="section level2">
<h2 id="encounter-creation">Encounter Creation<a class="anchor" aria-label="anchor" href="#encounter-creation"></a>
</h2>
<p>If you’d rather avoid consulting the rulebooks at all, the
<code>encounter_creator</code> function may be a valuable tool for you
to consider. This function requires the average level of all player
characters in the party (if all players are the same level this is just
that level), the number of players in the party, which version of fifth
edition D&amp;D you’re using, and how difficult you’d like to make the
encounter (allowable answers differ between the 2014 and 2024 versions).
Once you’ve provided this information, it will automatically select one
tougher creature and as many other creatures as possible <em>without
making the encounter more difficult than you specified</em>.</p>
<p>There is also an optional argument to specify the maximum number of
creatures if desired. The 2024 version is particularly susceptible to
including a number of monsters that–while mathematically appropriate–can
be logistically challenging to actually keep track of during a session
but this argument may also be helpful for those playing under the 2014
rules.</p>
<p>The function returns a dataframe with one row for each unique
experience point (XP) value of the selected creatures. A separate column
indicates the number of creatures worth that amount of XP that should be
selected in the encounter. The function also returns the “pool” of XP
available for the encounter and the realized XP “cost” of the chosen
creatures. More detail is provided on this later in this vignette but
for now keep in mind that there is an optimization step being done under
the hood so this function <u>may not always return identical
results</u>. I suggest running the function more than once until you are
satisfied with the results! Or increasing the “try” argument to give the
function more chances to find the optimal encounter composition.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Pick a hard set of creatures for a four-person party of 3rd level characters</span></span>
<span><span class="co">## Try 10 times to find the 'best' encounter</span></span>
<span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/encounter_creator.html">encounter_creator</a></span><span class="op">(</span>party_level <span class="op">=</span> <span class="fl">3</span>, party_size <span class="op">=</span> <span class="fl">4</span>, ver <span class="op">=</span> <span class="st">"2014"</span>, difficulty <span class="op">=</span> <span class="st">"hard"</span>, try <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 4</span></span></span>
<span><span class="co">#&gt;   creature_xp creature_count encounter_xp_pool encounter_xp_cost</span></span>
<span><span class="co">#&gt;         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>         200              1               900               890</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>         100              2               900               890</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>          25              1               900               890</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>          10              2               900               890</span></span>
<span></span>
<span><span class="co"># Design a moderately difficult encounter for a 3-person, 8th level party with no more than 6 creatures</span></span>
<span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/encounter_creator.html">encounter_creator</a></span><span class="op">(</span>party_level <span class="op">=</span> <span class="fl">8</span>, party_size <span class="op">=</span> <span class="fl">4</span>, ver <span class="op">=</span> <span class="st">"2024"</span>, </span>
<span>                        difficulty <span class="op">=</span> <span class="st">"moderate"</span>, max_creatures <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 4</span></span></span>
<span><span class="co">#&gt;   creature_xp creature_count encounter_xp_pool encounter_xp_cost</span></span>
<span><span class="co">#&gt;         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>        <span style="text-decoration: underline;">5</span>900              1              <span style="text-decoration: underline;">6</span>800              <span style="text-decoration: underline;">6</span>795</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>         700              1              <span style="text-decoration: underline;">6</span>800              <span style="text-decoration: underline;">6</span>795</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>         100              1              <span style="text-decoration: underline;">6</span>800              <span style="text-decoration: underline;">6</span>795</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>          50              1              <span style="text-decoration: underline;">6</span>800              <span style="text-decoration: underline;">6</span>795</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>          25              1              <span style="text-decoration: underline;">6</span>800              <span style="text-decoration: underline;">6</span>795</span></span></code></pre></div>
<p>After this function has identified the number and XP value of the
creatures in this encounter, you may consider using other
<code>dndR</code> functions to identify specific creatures (e.g.,
<code>creature_list</code>, etc.) or use your favorite source book /
homebrew to decide on particular creatures.</p>
</div>
<div class="section level2">
<h2 id="xp-balancing">XP Balancing<a class="anchor" aria-label="anchor" href="#xp-balancing"></a>
</h2>
<p>This may be more detail than you require but a small description of
how experience points are used to balance encounters (in and outside of
this R package) will be useful context for some of the other encounter
balancing tools described below. In the In essence, the difficulty of a
combat encounter in Dungeons and Dragons is affected by four things:</p>
<ol style="list-style-type: decimal">
<li>Player character level</li>
<li>Number of party members</li>
<li>How difficult the GM wants to make the encounter</li>
<li>For the 2014 version <em>only</em>, how many enemy creatures are
included</li>
</ol>
<p>The first three go into the “pool” of available experience points to
spend on a given encounter regardless of whether you’re using the 2014
or 2024 version of fifth edition Dungeons &amp; Dragons. If you’re using
the 2014 version, the number of enemies is used to calculate a realized
XP cost by applying a multiplier to the XP pool. In the 2024 version,
the XP pool is the XP cost but there is a qualitative note in the
Player’s Handbook that GMs will want to be careful about the number of
enemies.</p>
<div class="section level3">
<h3 id="xp-balancing-2024-5e">XP Balancing – 2024 5e<a class="anchor" aria-label="anchor" href="#xp-balancing-2024-5e"></a>
</h3>
<p>Because it’s simpler, let’s start by identifying the XP pool for a
given party under the 2024 rules. Let’s imagine that we have a 3rd level
party composed of four players and we want to know how much XP is needed
to make a moderately difficult encounter. We can use the
<code>xp_pool</code> function to do this! Note that the names of the
difficulty levels also differ between the 5e D&amp;D versions.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculate pool of available XP</span></span>
<span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/xp_pool.html">xp_pool</a></span><span class="op">(</span>party_level <span class="op">=</span> <span class="fl">3</span>, party_size <span class="op">=</span> <span class="fl">4</span>, ver <span class="op">=</span> <span class="st">"2024"</span>, difficulty <span class="op">=</span> <span class="st">"moderate"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 900</span></span></code></pre></div>
<p>If you’re playing under the 2024 version, simply take this number,
open up your favorite website or source book and identify creatures
whose XP can be added up to be equal to or beneath that value!</p>
</div>
<div class="section level3">
<h3 id="xp-balancing-2014-5e">XP Balancing – 2014 5e<a class="anchor" aria-label="anchor" href="#xp-balancing-2014-5e"></a>
</h3>
<p>The 2014 DMG handles the total XP pool and the XP cost in two
separate tables. In order to balance an encounter you need to carefully
consult both of them. Often this involves iterative testing of which
number and combination of creatures is below the available pool after
applying the relevant multiplier. <code>dndR</code> provides two
functions to handle this instead: <code>xp_pool</code> and
<code>xp_cost</code>.</p>
<p>Let’s begin by calculating the XP pool from the same party as above
but under the 2014 rules version.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculate pool of available XP</span></span>
<span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/xp_pool.html">xp_pool</a></span><span class="op">(</span>party_level <span class="op">=</span> <span class="fl">3</span>, party_size <span class="op">=</span> <span class="fl">4</span>, ver <span class="op">=</span> <span class="st">"2014"</span>, difficulty <span class="op">=</span> <span class="st">"medium"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 600</span></span></code></pre></div>
<p>Once you have that in mind, you can make a note of that number and
then use <code>xp_cost</code> repeatedly until you find the highest
realized XP cost that will still fall beneath that threshold. Note that
using <code>xp_cost</code> while specifying the 2024 rules (i.e.,
<code>ver = "2024"</code>) will return a warning because the XP pool
returned by <code>xp_pool</code> <em>is</em> the XP cost in that version
of fifth edition D&amp;D. Interestingly, the level of the party has no
effect on the realized XP cost; only the number of players and number of
enemies matters!</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Identify 'realized' XP of two monsters worth a total of 800 XP versus our party</span></span>
<span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/xp_cost.html">xp_cost</a></span><span class="op">(</span>monster_xp <span class="op">=</span> <span class="fl">500</span>, monster_count <span class="op">=</span> <span class="fl">2</span>, party_size <span class="op">=</span> <span class="fl">4</span>, ver <span class="op">=</span> <span class="st">"2014"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 750</span></span></code></pre></div>
<p>Even though the total XP value of the creatures is beneath the
threshold identified by <code>xp_pool</code>, the realized XP cost is
higher after the appropriate multipliers are applied. Using
<code>xp_pool</code> alone would risk creating a much harder encounter
than you intended. In fact, in this case, that realized XP value is
actually appropriate for a “deadly” encounter! Because player characters
tend to be stronger under the 2024 rules (all else being equal) this XP
cost versus pool comparison is no longer necessary.</p>
<p>While <code>encounter_creator</code> is meant to avoid needing to use
these helper functions, you can of course use these if you’d rather take
a middle path between relying entirely on this package versus relying
entirely on the core rulebooks.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nicholas Lyon, Tim Schatto-Eckrodt, Humberto Nappo, Billy Mitchell.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>

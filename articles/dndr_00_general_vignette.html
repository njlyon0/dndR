<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="dndR">
<title>General Vignette • dndR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="General Vignette">
<meta property="og:description" content="dndR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">dndR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.1.900</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/dndr_00_general_vignette.html">General Vignette</a>
    <a class="dropdown-item" href="../articles/dndr_01_everyone_vignette.html">Functions For Everyone</a>
    <a class="dropdown-item" href="../articles/dndr_02_gm_vignette.html">Functions For GMs</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/njlyon0/dndR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>General Vignette</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/njlyon0/dndR/blob/HEAD/vignettes/dndr_00_general_vignette.Rmd" class="external-link"><code>vignettes/dndr_00_general_vignette.Rmd</code></a></small>
      <div class="d-none name"><code>dndr_00_general_vignette.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="welcome-to-dndr">Welcome to <code>dndR</code>!<a class="anchor" aria-label="anchor" href="#welcome-to-dndr"></a>
</h2>
<p>I am a big fan of both R and Dungeons and Dragons so I thought it
would be a fun test of my coding skills to build an R package that
supports this hobby! <code>dndR</code> includes several functions that
can be broadly divided between functions for both players and dungeon
masters (DMs) and functions that are intended primarily for DMs.</p>
<p>If any of these functions break for you, please <a href="https://github.com/njlyon0/dndR/issues" class="external-link">post an Issue</a> and I’ll
tweak the code ASAP. I hope that you enjoy the rest of this vignette as
it demonstrates some of the use-cases for the functions currently
included in <code>dndR</code>!</p>
<p>Begin by ensuring that you have the development version of
<code>dndR</code> installed.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># devtools::install_github("njlyon0/dndR")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://njlyon0.github.io/dndR/">dndR</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="dice-rolling">Dice Rolling<a class="anchor" aria-label="anchor" href="#dice-rolling"></a>
</h2>
<p>At its simplest, DnD involves significant amounts of dice rolling and
(often) summing their values, so <code>dndR</code> includes a
<code>roll</code> function! This function supports ‘rolling’ up to 10
million of any of the standard dice and summing their results.
“Standard” dice include the following numbers of sides: 100, 20, 12, 10,
8, 6, 4, and 2.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/roll.html">roll</a></span><span class="op">(</span><span class="st">'3d6'</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 7</span></span>
<span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/roll.html">roll</a></span><span class="op">(</span><span class="st">'3d8'</span><span class="op">)</span> <span class="op">+</span> <span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/roll.html">roll</a></span><span class="op">(</span><span class="st">'1d4'</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 11</span></span></code></pre></div>
<p>Note that ‘2d20’ is automatically assumed to be rolling with
advantage/disadvantage so it will return a message to that effect and
both numbers.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/roll.html">roll</a></span><span class="op">(</span>dice <span class="op">=</span> <span class="st">'2d20'</span><span class="op">)</span></span>
<span><span class="co">#&gt; Assuming you're rolling for (dis)advantage so both rolls returned</span></span>
<span><span class="co">#&gt;   roll_1 roll_2</span></span>
<span><span class="co">#&gt; 1     14      8</span></span></code></pre></div>
<p>You can also use <code>probability_plot</code> to roll dice a
specified number of times and generate a <code>ggplot2</code> graph of
the frequency of various outcomes. The median outcome is specified by a
dashed vertical line.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/probability_plot.html">probability_plot</a></span><span class="op">(</span>dice <span class="op">=</span> <span class="st">"2d6"</span>, roll_num <span class="op">=</span> <span class="fl">499</span><span class="op">)</span></span></code></pre></div>
<p><img src="dndr_00_general_vignette_files/figure-html/prob_plot_fxn-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="character-creation">Character Creation<a class="anchor" aria-label="anchor" href="#character-creation"></a>
</h2>
<p><code>pc_creator</code> rolls for a character’s ability scores
(strength, dexterity, constitution, intelligence, wisdom, and charisma)
given a particular class, race, and preferred method of rolling for
ability scores.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/pc_creator.html">pc_creator</a></span><span class="op">(</span>class <span class="op">=</span> <span class="st">'barbarian'</span>, race <span class="op">=</span> <span class="st">'half orc'</span>, score_method <span class="op">=</span> <span class="st">"4d6"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Total score low. Consider re-rolling?</span></span>
<span><span class="co">#&gt; At least one ability very low. Consider re-rolling?</span></span>
<span><span class="co">#&gt;   ability raw_score race_modifier score roll_modifier</span></span>
<span><span class="co">#&gt; 1     STR        14             2    16            +3</span></span>
<span><span class="co">#&gt; 2     DEX         9             0     9            -1</span></span>
<span><span class="co">#&gt; 3     CON        12             1    13            +1</span></span>
<span><span class="co">#&gt; 4     INT         7             0     7            -2</span></span>
<span><span class="co">#&gt; 5     WIS         9             0     9            -1</span></span>
<span><span class="co">#&gt; 6     CHA         9             0     9            -1</span></span></code></pre></div>
<p>You can check which classes and races are currently supported by
<code>pc_creator</code> by running <code>dnd_classes</code> or
<code>dnd_races</code>. If you have a class/race in mind that isn’t
supported you can <a href="https://github.com/njlyon0/dndR/issues" class="external-link">post
an Issue</a> and I’ll add that class/race’s stats to the function
ASAP!</p>
<p>While waiting for me to act on your Issue, you can run the simpler
<code>ability_scores</code> function to simply roll for ability scores
and manually assign them to specific abilities and handle
race/class/background based modifiers yourself.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/ability_scores.html">ability_scores</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"4d6"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Total score low. Consider re-rolling?</span></span>
<span><span class="co">#&gt;   ability score</span></span>
<span><span class="co">#&gt; 1      V1    10</span></span>
<span><span class="co">#&gt; 2      V2    15</span></span>
<span><span class="co">#&gt; 3      V3     8</span></span>
<span><span class="co">#&gt; 4      V4    12</span></span>
<span><span class="co">#&gt; 5      V5    10</span></span>
<span><span class="co">#&gt; 6      V6    14</span></span></code></pre></div>
<p>If you do experience point-based leveling, you can use the
<code>pc_level_calc</code> function to check what level your PC has
reached with the amount of XP they have earned. Thanks to Humberto Nappo
for contributing this function!</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/pc_level_calc.html">pc_level_calc</a></span><span class="op">(</span>player_xp <span class="op">=</span> <span class="fl">4100</span><span class="op">)</span></span>
<span><span class="co">#&gt;   player_level xp_threshold proficiency</span></span>
<span><span class="co">#&gt; 4            4         2700          +2</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="spell-related-functions">Spell-Related Functions<a class="anchor" aria-label="anchor" href="#spell-related-functions"></a>
</h2>
<p>There are <em>a lot</em> of spells in the various Dungeons &amp;
Dragons source books that your character might be able to invoke.
Finding specific spells can be a daunting task in the face of the sheer
number of spells that exist so <code>dndR</code> has some functions to
hopefully make this effort more manageable for your magic-using
characters and NPCs.</p>
<p><code>spell_list</code> lets you search through official spells based
on several categories. A dataframe including all of the big picture
information for spells that meet your criteria is returned to help
orient you for any subsequent steps you plan on taking. Note that all
<code>spell_list</code> arguments that accept characters are case
insensitive and queries use partial string matching so you don’t need to
try to engineer exact matches. Specifically, you can query spells based
on one or more of the following criteria:</p>
<ul>
<li>Spell name(s)</li>
<li>Character classes with access to the spell(s)</li>
<li>Minimum spell slot required to cast the spell and/or “cantrip”</li>
<li>School(s) of magic to which the spell belongs (e.g., “abjuration”,
etc.)</li>
<li>Whether or not the spell can be cast as a ritual (note this argument
accepts only <code>TRUE</code> or <code>FALSE</code>)</li>
<li>Time to cast the spell (either the phase of a turn required or the
in-game time for spells that take more than one turn to cast)</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/spell_list.html">spell_list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"bolt"</span>, class <span class="op">=</span> <span class="st">"sorcerer"</span>, ritual <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;       spell_name                                         spell_source</span></span>
<span><span class="co">#&gt; 1      Fire Bolt Player's Handbook.241, System Reference Document.144</span></span>
<span><span class="co">#&gt; 2     Witch Bolt                                Player's Handbook.289</span></span>
<span><span class="co">#&gt; 3 Lightning Bolt Player's Handbook.255, System Reference Document.159</span></span>
<span><span class="co">#&gt; 4     Chaos Bolt                   Xanathar’s Guide to Everything.151</span></span>
<span><span class="co">#&gt;                                                                     pc_class</span></span>
<span><span class="co">#&gt; 1                                                artificer, sorcerer, wizard</span></span>
<span><span class="co">#&gt; 2                                                  sorcerer, warlock, wizard</span></span>
<span><span class="co">#&gt; 3 sorcerer, wizard, artificer: armorer, druid: mountain, warlock: fathomless</span></span>
<span><span class="co">#&gt; 4                                                                   sorcerer</span></span>
<span><span class="co">#&gt;   spell_level spell_school ritual_cast casting_time                range</span></span>
<span><span class="co">#&gt; 1     cantrip    evocation       FALSE     1 action             120 feet</span></span>
<span><span class="co">#&gt; 2     level 1    evocation       FALSE     1 action              30 feet</span></span>
<span><span class="co">#&gt; 3     level 3    evocation       FALSE     1 action self (100-foot line)</span></span>
<span><span class="co">#&gt; 4     level 1    evocation       FALSE     1 action             120 feet</span></span>
<span><span class="co">#&gt;                                                       components</span></span>
<span><span class="co">#&gt; 1                                                           V, S</span></span>
<span><span class="co">#&gt; 2 V, S, M (a twig from a tree that has been struck by lightning)</span></span>
<span><span class="co">#&gt; 3   V, S, M (a bit of fur and a rod of amber, crystal, or glass)</span></span>
<span><span class="co">#&gt; 4                                                           V, S</span></span>
<span><span class="co">#&gt;                        duration</span></span>
<span><span class="co">#&gt; 1                 instantaneous</span></span>
<span><span class="co">#&gt; 2 concentration, up to 1 minute</span></span>
<span><span class="co">#&gt; 3                 instantaneous</span></span>
<span><span class="co">#&gt; 4                 instantaneous</span></span></code></pre></div>
<p>If you have a specific spell (or several spells) for which you want
the complete spell information (including the description text),
<code>spell_text</code> is there to help. <code>spell_text</code> only
accepts the spell name(s) for which you want information and returns all
of the information that <code>spell_list</code> does but also gives you
the spell description text and (if applicable) how the spell changes
when cast with a higher level spell slot or by a higher level player
character.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/spell_text.html">spell_text</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"chill touch"</span><span class="op">)</span></span>
<span><span class="co">#&gt;    spell_name                                         spell_source</span></span>
<span><span class="co">#&gt; 1 Chill Touch Player's Handbook.221, System Reference Document.124</span></span>
<span><span class="co">#&gt;                                   pc_class spell_level spell_school ritual_cast</span></span>
<span><span class="co">#&gt; 1 sorcerer, warlock, wizard, druid: spores     cantrip   necromancy       FALSE</span></span>
<span><span class="co">#&gt;   casting_time    range components duration</span></span>
<span><span class="co">#&gt; 1     1 action 120 feet       V, S  1 round</span></span>
<span><span class="co">#&gt;                                                                                                                                                                                                                                                                                                                                                                                                                                              description</span></span>
<span><span class="co">#&gt; 1 You create a ghostly, skeletal hand in the space of a creature within range. Make a ranged spell attack against the creature to assail it with the chill of the grave. On a hit, the target takes 1d8 necrotic damage, and it can't regain hit points until the start of your next turn. Until then, the hand clings to the target. If you hit an undead target, it also has disadvantage on attack rolls against you until the end of your next turn.</span></span>
<span><span class="co">#&gt;                                                                                                  higher_levels</span></span>
<span><span class="co">#&gt; 1 This spell's damage increases by 1d8 when you reach 5th level (2d8), 11th level (3d8), and 17th level (4d8).</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="encounter-balancing">Encounter Balancing<a class="anchor" aria-label="anchor" href="#encounter-balancing"></a>
</h2>
<p>When I am the Dungeon/Game Master (DM / GM) I find encounter
balancing to be really difficult, in part because of the nest of
inter-related tables and experience point multipliers outlined in the
Dungeon Master’s Guide (DMG) that must be consulted for novice GMs such
as myself. To help other newbies, <code>dndR</code> includes the
<code>xp_pool</code> and <code>xp_cost</code> functions.</p>
<div class="section level3">
<h3 id="experience-point-xp-thresholds">Experience Point (XP) Thresholds<a class="anchor" aria-label="anchor" href="#experience-point-xp-thresholds"></a>
</h3>
<p>The difficulty of an encounter in DnD is affected by three
things:</p>
<ol style="list-style-type: decimal">
<li>Level of characters</li>
<li>Number of characters in the party</li>
<li>How difficult the GM wants to make things for their players</li>
</ol>
<p>The DMG handles this by providing experience point (XP) thresholds
based on these three factors. All enemies are worth a pre-determined
amount of XP so encounters are balanced by the DMG listing the total XP
of all monsters in a given fight for every level of players, party size,
and difficulty. That table is useful but a little dense to work through
as you’re prepping potentially multiple encounters per session, so this
is where <code>xp_pool</code> becomes useful.</p>
<p><code>xp_pool</code> returns the amount of XP the GM can ‘spend’ on
monsters in a given encounter to ensure the difficulty is as desired
based on the three factors identified above.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/xp_pool.html">xp_pool</a></span><span class="op">(</span>party_level <span class="op">=</span> <span class="fl">2</span>, party_size <span class="op">=</span> <span class="fl">4</span>, difficulty <span class="op">=</span> <span class="st">"medium"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 625</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="xp-multipliers">XP Multipliers<a class="anchor" aria-label="anchor" href="#xp-multipliers"></a>
</h3>
<p>While it is crucial to know the amount of XP in available to the GM
per encounter, it fails to account for the effect of the <em>number</em>
of enemies. A fight versus a single monster worth 1000 XP is a very
different proposition than a fight against four creatures each worth 250
XP even though the total XP is the same.</p>
<p>The DMG accounts for this by providing XP multipliers based on the
number of monsters and the number of players. The same total monster XP
is multiplied by a larger value for more monsters facing a smaller party
than it would be for fewer monsters facing a larger party.</p>
<p>So, if you are using the DMG to balance an encounter you have to
total up the XP of the monsters in an encounter and then go to a
different part of the DMG where you can multiply that value by the
multiplier in the relevant row of a second table which would then tell
you the “actual” XP of the creatures you have selected. If you had too
many or too few monsters you’d have to repeat this process iteratively
until you identified the correct amount of “raw” XP to yield your
desired “realized” XP in an encounter. Cumbersome, right?</p>
<p><code>dndR</code> provides an alternative to using the multiplier
table in <code>xp_cost</code>. <code>xp_cost</code> requires the “raw”
XP of the monsters you have selected, the number of monsters, and the
number of player characters (PCs) and returns the “realized” XP. You can
then quickly compare this with the value return by <code>xp_pool</code>
to determine whether you need to add or remove creatures from your
encounter.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/xp_cost.html">xp_cost</a></span><span class="op">(</span>monster_xp <span class="op">=</span> <span class="fl">1000</span>, monster_count <span class="op">=</span> <span class="fl">2</span>, party_size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1500</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="quick-xp-demonstration">Quick XP Demonstration<a class="anchor" aria-label="anchor" href="#quick-xp-demonstration"></a>
</h3>
<p>Let’s say I am running a game for four players, all level 3, and I
want to design a hard encounter for them and I want to use
<code>dndR</code> to balance this encounter.</p>
<p>To begin, I’d identify the total XP I can spend to make an encounter
this difficult.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/xp_pool.html">xp_pool</a></span><span class="op">(</span>party_level <span class="op">=</span> <span class="fl">3</span>, party_size <span class="op">=</span> <span class="fl">4</span>, difficulty <span class="op">=</span> <span class="st">'hard'</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1112</span></span></code></pre></div>
<p>Now that I know my XP threshold, I can check the value of two
monsters worth (total) 500 XP against that threshold.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/xp_cost.html">xp_cost</a></span><span class="op">(</span>monster_xp <span class="op">=</span> <span class="fl">500</span>, monster_count <span class="op">=</span> <span class="fl">2</span>, party_size <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 750</span></span></code></pre></div>
<p>I can see that I’m well under the XP threshold I have to play with so
I can add a monster and see where that leaves me.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/xp_cost.html">xp_cost</a></span><span class="op">(</span>monster_xp <span class="op">=</span> <span class="fl">750</span>, monster_count <span class="op">=</span> <span class="fl">3</span>, party_size <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1500</span></span></code></pre></div>
<p>A little over because of the multiplier, so let’s say I change my
mind and keep three monsters but change their identity to one with a
lower XP value.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/xp_cost.html">xp_cost</a></span><span class="op">(</span>monster_xp <span class="op">=</span> <span class="fl">600</span>, monster_count <span class="op">=</span> <span class="fl">3</span>, party_size <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1200</span></span></code></pre></div>
<p>Basically right on target! I can now pick out my three monsters that
total up to 600 XP raw and know that they will likely* make a hard
encounter for my players! (* “Likely” because there is dice rolling
involved and it is possible that the monsters roll well while my players
roll badly or vice versa).</p>
</div>
</div>
<div class="section level2">
<h2 id="assessing-party-abilities">Assessing Party Abilities<a class="anchor" aria-label="anchor" href="#assessing-party-abilities"></a>
</h2>
<p>It can be useful as a GM to know what abilities your party is–as a
whole–strong in versus weaker in. <code>party_diagram</code> allows GMs
to visualize the ability scores of every player in a party either
grouped by player or by ability score. The function supports both
interactive (abilities entered via the Console) and non-interactive
(abilities given as a list) entries. Thank you to <a href="https://kudusch.de/" class="external-link">Tim Schatto-Eckrodt</a> for contributing this
function!</p>
<p>Due to the static nature of a vignette, we’ll use the non-interactive
path by assembling the party score list and then invoking
<code>party_diagram</code>.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create named list of PCs and their scores</span></span>
<span><span class="va">party_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Vax <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>STR <span class="op">=</span> <span class="st">"10"</span>, DEX <span class="op">=</span> <span class="st">"13"</span>, CON <span class="op">=</span> <span class="st">"14"</span>, </span>
<span>                              INT <span class="op">=</span> <span class="st">"15"</span>, WIS <span class="op">=</span> <span class="st">"16"</span>, CHA <span class="op">=</span> <span class="st">"12"</span><span class="op">)</span>,</span>
<span>                   Beldra <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>STR <span class="op">=</span> <span class="st">"20"</span>, DEX <span class="op">=</span> <span class="st">"15"</span>, CON <span class="op">=</span> <span class="st">"10"</span>,</span>
<span>                                 INT <span class="op">=</span> <span class="st">"10"</span>, WIS <span class="op">=</span> <span class="st">"11"</span>, CHA <span class="op">=</span> <span class="st">"12"</span><span class="op">)</span>,</span>
<span>                   Rook <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>STR <span class="op">=</span> <span class="st">"10"</span>, DEX <span class="op">=</span> <span class="st">"10"</span>, CON <span class="op">=</span> <span class="st">"18"</span>, </span>
<span>                               INT <span class="op">=</span> <span class="st">"9"</span>, WIS <span class="op">=</span> <span class="st">"11"</span>, CHA <span class="op">=</span> <span class="st">"16"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a party diagram using that list (by player)</span></span>
<span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/party_diagram.html">party_diagram</a></span><span class="op">(</span>by <span class="op">=</span> <span class="st">"player"</span>, pc_stats <span class="op">=</span> <span class="va">party_list</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="dndr_00_general_vignette_files/figure-html/party_diagram_1-1.png" width="576" style="display: block; margin: auto;"></p>
<p>You can also group the diagram by score if that is of interest.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/party_diagram.html">party_diagram</a></span><span class="op">(</span>by <span class="op">=</span> <span class="st">"ability"</span>, pc_stats <span class="op">=</span> <span class="va">party_list</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="dndr_00_general_vignette_files/figure-html/party_diagram_2-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="creating-non-player-characters">Creating Non-Player Characters<a class="anchor" aria-label="anchor" href="#creating-non-player-characters"></a>
</h2>
<p>Non-player characters (NPCs) are a key component of D&amp;D. It can
be hard to come up with NPCs on the fly that aren’t directly linked to
the current story arc but doing so is a great way to add realism to your
world. The <code>npc_creator</code> function helps GMs speedily create
some quick baseline information for a number of NPCs.</p>
<p>Simply specify the number of NPCs you want to generate and this
function will randomly select a race and job for each NPC. You can
re-run the function if the race-job combinations returned by the
function don’t match your current campaign tone / history.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/npc_creator.html">npc_creator</a></span><span class="op">(</span>npc_count <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt;         Race           Job</span></span>
<span><span class="co">#&gt; 1 changeling        barber</span></span>
<span><span class="co">#&gt; 2   half elf archaeologist</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="creating-monsters">Creating Monsters<a class="anchor" aria-label="anchor" href="#creating-monsters"></a>
</h2>
<p>Creatures that you create can be a great way to add flavor to an
encounter or can even form the centerpiece of a larger campaign arc! The
<code>monster_stats</code> and <code>monster_creator</code> functions
can help GMs to quickly stat out their homebrewed monsters.</p>
<div class="section level3">
<h3 id="finding-official-monster-statistics-with-monster_stats">Finding Official Monster Statistics with
<code>monster_stats</code><a class="anchor" aria-label="anchor" href="#finding-official-monster-statistics-with-monster_stats"></a>
</h3>
<p>The DMG provides a table (see p. 274) that gives the vital statistics
of creatures based on their Challenge Rating (CR) but this table can be
cumbersome to compare to Experience Points (you know, the things used to
determine how hard an encounter will be for your party?).
<code>monster_stats</code> streamlines this process by allowing you to
input either the XP you want to spend on this creature (you can use the
value returned by <code>xp_cost</code>) <em>or</em> the Challenge Rating
(CR) if you know it. Once either XP or CR is provided,
<code>monster_stats</code> returns the creature’s statistics as they
appear in the DMG for a <em>single</em> creature of that difficulty.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/monster_stats.html">monster_stats</a></span><span class="op">(</span>xp <span class="op">=</span> <span class="fl">1000</span>, cr <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt; CR and XP both specified, proceeding with CR</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8 × 2</span></span></span>
<span><span class="co">#&gt;   statistic    values </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Challenge    4      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> DMG_XP       1100   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Prof_Bonus   2      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Armor_Class  14     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> HP_Range     116-130</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> HP_Average   123    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> Attack_Bonus 5      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> Save_DC      14</span></span></code></pre></div>
<p>Challenge Rating is more than a little esoteric so feel free to
ignore that argument entirely if XP is more comfortable for you!</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/monster_stats.html">monster_stats</a></span><span class="op">(</span>xp <span class="op">=</span> <span class="fl">8000</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8 × 2</span></span></span>
<span><span class="co">#&gt;   statistic    values </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Challenge    11     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> DMG_XP       7200   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Prof_Bonus   4      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Armor_Class  17     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> HP_Range     221-235</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> HP_Average   228    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> Attack_Bonus 8      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> Save_DC      17</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="homebrewing-custom-monsters-with-monster_creator">Homebrewing Custom Monsters with <code>monster_creator</code><a class="anchor" aria-label="anchor" href="#homebrewing-custom-monsters-with-monster_creator"></a>
</h3>
<p>If you’d rather take a more customized approach, you can use
<code>monster_creator</code> instead of <code>monster_stats</code>. This
function follows the advice of <a href="https://twitter.com/Zeebashew" class="external-link">Zee Bashew</a> on how to build
interesting, challenging monsters for your party. These monsters are
built somewhat according to the Dungeon Master’s Guide for creating
monsters, partly Zee’s <a href="https://www.youtube.com/watch?v=GhjkPv4qo5w" class="external-link">YouTube video on
homebrewing monsters based on the video game <em>The Witcher</em></a>,
and partly on my own intuition about scaling the difficulty of a
creature. Creatures are spawned randomly so you may need to re-run the
function several times (or mentally modify one or more parts of the
output) to get a monster that fits your campaign and players. Each
creature is provided with up to five damage resistances, up to two
damage immunities, and a single vulnerability. This combination allows
you to build complex and mysterious homebrew monsters with plenty of
opportunities for the party to have to investigate around to discover
the monster’s strengths and weaknesses before the final showdown.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dndR</span><span class="fu">::</span><span class="fu"><a href="../reference/monster_creator.html">monster_creator</a></span><span class="op">(</span>party_level <span class="op">=</span> <span class="fl">5</span>, party_size <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt;             statistic                                          value</span></span>
<span><span class="co">#&gt; 1          Hit_Points                                             92</span></span>
<span><span class="co">#&gt; 2         Armor_Class                                             16</span></span>
<span><span class="co">#&gt; 3          Prof_Bonus                                              3</span></span>
<span><span class="co">#&gt; 4        Attack_Bonus                                              7</span></span>
<span><span class="co">#&gt; 5             Save_DC                                             16</span></span>
<span><span class="co">#&gt; 6  Prof_Saving_Throws                                       INT; CHA</span></span>
<span><span class="co">#&gt; 7           Immune_to                                   poison; acid</span></span>
<span><span class="co">#&gt; 8        Resistant_to thunder; psychic; lightning; bludgeoning; fire</span></span>
<span><span class="co">#&gt; 9       Vulnerable_to                                       piercing</span></span>
<span><span class="co">#&gt; 10                STR                                             +2</span></span>
<span><span class="co">#&gt; 11                DEX                                             +1</span></span>
<span><span class="co">#&gt; 12                CON                                             +1</span></span>
<span><span class="co">#&gt; 13                INT                                             +1</span></span>
<span><span class="co">#&gt; 14                WIS                                             +1</span></span>
<span><span class="co">#&gt; 15                CHA                                             +1</span></span></code></pre></div>
<p>Note that if you use <code>monster_creator</code> you may need to
help your players identify the creature’s immunities and vulnerabilities
<em>before</em> the actual confrontation with the creature to avoid
sending them into a fight that is more difficult than your party can
handle.</p>
</div>
</div>
<div class="section level2">
<h2 id="dndr-versus-dmg-comparisons">
<code>dndR</code> versus DMG Comparisons<a class="anchor" aria-label="anchor" href="#dndr-versus-dmg-comparisons"></a>
</h2>
<p>See below for some comparisons between my functions and the Dungeon
Master’s Guide statistics they recapitulate.</p>
<div class="section level3">
<h3 id="xp_pool-vs--dmg">
<code>xp_pool</code> vs. DMG<a class="anchor" aria-label="anchor" href="#xp_pool-vs--dmg"></a>
</h3>
<p>The DMG specifies the XP threshold <em>per player</em> for a given
difficulty while my function asks for the <em>average</em> player level
and the party size. This difference keeps the function streamlined and
flexible for parties of any size.</p>
<p>Rather than embedding the DMG’s table for encounter XP,
<code>xp_pool</code> actually uses the formula for the line defining the
XP-party level curve implicit in the DMG. This has the added benefit of
being able to handle non-integer values for average party_level.</p>
<p>Below is a comparison of the DMG’s XP-to-party level curve versus the
one obtained by <code>xp_pool</code>.</p>
<p><img src="dndr_00_general_vignette_files/figure-html/xp-pool-plot-1.png" width="384" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="cr_convert-vs--dmg">
<code>cr_convert</code> vs. DMG<a class="anchor" aria-label="anchor" href="#cr_convert-vs--dmg"></a>
</h3>
<p><code>cr_convert</code> is embedded in the <code>monster_stats</code>
function and is what allows that function to handle both CR and XP
inputs. The DMG specifies the XP value of a monster of any CR from 0 to
30 so <code>cr_convert</code> uses the formula of that line to avoid
querying the table for this conversion.</p>
<p>Below is the comparison of the DMG’s XP-to-CR curve and the one
produced by <code>cr_convert</code>.</p>
<p><img src="dndr_00_general_vignette_files/figure-html/cr-convert-plot-1.png" width="384" style="display: block; margin: auto;"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Nicholas Lyon.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>

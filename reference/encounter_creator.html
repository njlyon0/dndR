<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Balance a Combat Encounter for Given Party Composition and Difficulty — encounter_creator • dndR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Balance a Combat Encounter for Given Party Composition and Difficulty — encounter_creator"><meta name="description" content="Identifies set of creature XP values that constitute a balanced encounter of specified difficulty for given party composition information (i.e., average player character level and number of party members). Creature selection is semi-random so re-running this function will return similar but not necessarily identical results. It is not always possible to exactly spend all available XP so the true maximum XP and the realized XP (see `?dndR::xp_pool` and `?dndR::xp_cost`) are both returned in the output for context. This function _will not_ exceed the allowed XP so you may need to alter the party information and/or difficulty arguments in order to return an encounter that meets your needs."><meta property="og:description" content="Identifies set of creature XP values that constitute a balanced encounter of specified difficulty for given party composition information (i.e., average player character level and number of party members). Creature selection is semi-random so re-running this function will return similar but not necessarily identical results. It is not always possible to exactly spend all available XP so the true maximum XP and the realized XP (see `?dndR::xp_pool` and `?dndR::xp_cost`) are both returned in the output for context. This function _will not_ exceed the allowed XP so you may need to alter the party information and/or difficulty arguments in order to return an encounter that meets your needs."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dndR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/dndr_00_dice.html">Dice Rolling</a></li>
    <li><a class="dropdown-item" href="../articles/dndr_01_characters.html">Character Creation</a></li>
    <li><a class="dropdown-item" href="../articles/dndr_02_creatures.html">Finding &amp; Making Creatures</a></li>
    <li><a class="dropdown-item" href="../articles/dndr_03_spells.html">Spells</a></li>
    <li><a class="dropdown-item" href="../articles/dndr_04_encounters.html">Encounter Balancing</a></li>
    <li><a class="dropdown-item" href="../articles/dndr_05_visuals.html">Visual Tools</a></li>
    <li><a class="dropdown-item" href="../articles/dndr_99_dmg-vs-dndr.html">DMG versus dndR</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/njlyon0/dndR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Balance a Combat Encounter for Given Party Composition and Difficulty</h1>
      <small class="dont-index">Source: <a href="https://github.com/njlyon0/dndR/blob/main/R/encounter_creator.R" class="external-link"><code>R/encounter_creator.R</code></a></small>
      <div class="d-none name"><code>encounter_creator.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Identifies set of creature XP values that constitute a balanced encounter of specified difficulty for given party composition information (i.e., average player character level and number of party members). Creature selection is semi-random so re-running this function will return similar but not necessarily identical results. It is not always possible to exactly spend all available XP so the true maximum XP and the realized XP (see `?dndR::xp_pool` and `?dndR::xp_cost`) are both returned in the output for context. This function _will not_ exceed the allowed XP so you may need to alter the party information and/or difficulty arguments in order to return an encounter that meets your needs.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">encounter_creator</span><span class="op">(</span></span>
<span>  party_level <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  party_size <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ver <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  difficulty <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max_creatures <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  try <span class="op">=</span> <span class="fl">5</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-party-level">party_level<a class="anchor" aria-label="anchor" href="#arg-party-level"></a></dt>
<dd><p>(numeric) integer indicating the average party level. If all players are the same level, that level is the average party level</p></dd>


<dt id="arg-party-size">party_size<a class="anchor" aria-label="anchor" href="#arg-party-size"></a></dt>
<dd><p>(numeric) integer indicating how many player characters (PCs) are in the party</p></dd>


<dt id="arg-ver">ver<a class="anchor" aria-label="anchor" href="#arg-ver"></a></dt>
<dd><p>(character) which version of fifth edition to use ("2014" or "2024")</p></dd>


<dt id="arg-difficulty">difficulty<a class="anchor" aria-label="anchor" href="#arg-difficulty"></a></dt>
<dd><p>(character) one of a specific set of encounter difficulty level names. If `ver = "2014"`, this must be one of "easy", "medium", "hard", or "deadly" while for `ver = "2024"` it must instead be one of "low", "moderate", or "high"</p></dd>


<dt id="arg-max-creatures">max_creatures<a class="anchor" aria-label="anchor" href="#arg-max-creatures"></a></dt>
<dd><p>(numeric) _optional_ maximum number of allowed creatures. The 2024 version especially skews towards including more creatures (especially at higher difficulty levels) so this argument allows specifying a maximum number of creatures beyond whatever mathematically-appropriate number this function identifies. This is hopefully a convenience for GMs to not have to run dozens of enemies for higher-level parties. If not specified, then there is no maximum number of creatures in the returned random encounter's XP dataframe</p></dd>


<dt id="arg-try">try<a class="anchor" aria-label="anchor" href="#arg-try"></a></dt>
<dd><p>(numeric) integer indicating the number of attempts to make to maximize encounter XP while remaining beneath the threshold defined by the other parameters</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>(dataframe) creature experience point (XP) values as well as the maximum XP for an encounter of the specified difficulty and the realized XP cost of the returned creatures</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Create a hard encounter for a 2-person, 9th level party under the 2014 rules</span></span></span>
<span class="r-in"><span><span class="fu">dndR</span><span class="fu">::</span><span class="fu">encounter_creator</span><span class="op">(</span>party_level <span class="op">=</span> <span class="fl">9</span>, party_size <span class="op">=</span> <span class="fl">2</span>, ver <span class="op">=</span> <span class="st">"2014"</span>, difficulty <span class="op">=</span> <span class="st">"hard"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   creature_xp creature_count encounter_xp_pool encounter_xp_cost</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>        <span style="text-decoration: underline;">1</span>100              1              <span style="text-decoration: underline;">3</span>300              <span style="text-decoration: underline;">3</span>275</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>         100              1              <span style="text-decoration: underline;">3</span>300              <span style="text-decoration: underline;">3</span>275</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>          50              2              <span style="text-decoration: underline;">3</span>300              <span style="text-decoration: underline;">3</span>275</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>          10              1              <span style="text-decoration: underline;">3</span>300              <span style="text-decoration: underline;">3</span>275</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a moderate encounter for a 4-person, 5th level party in the 2024 version</span></span></span>
<span class="r-in"><span><span class="co">## And allow no more than 6 creatures</span></span></span>
<span class="r-in"><span><span class="fu">encounter_creator</span><span class="op">(</span>party_level <span class="op">=</span> <span class="fl">5</span>, party_size <span class="op">=</span> <span class="fl">4</span>, ver <span class="op">=</span> <span class="st">"2024"</span>, </span></span>
<span class="r-in"><span>                  difficulty <span class="op">=</span> <span class="st">"moderate"</span>, max_creatures <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 5 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   creature_xp creature_count encounter_xp_pool encounter_xp_cost</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>        <span style="text-decoration: underline;">2</span>300              1              <span style="text-decoration: underline;">3</span>000              <span style="text-decoration: underline;">2</span>995</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>         450              1              <span style="text-decoration: underline;">3</span>000              <span style="text-decoration: underline;">2</span>995</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>         200              1              <span style="text-decoration: underline;">3</span>000              <span style="text-decoration: underline;">2</span>995</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>          25              1              <span style="text-decoration: underline;">3</span>000              <span style="text-decoration: underline;">2</span>995</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span>          10              2              <span style="text-decoration: underline;">3</span>000              <span style="text-decoration: underline;">2</span>995</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nicholas Lyon, Tim Schatto-Eckrodt.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

